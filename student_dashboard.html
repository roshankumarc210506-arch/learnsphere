<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Student Dashboard ‚Äì LearnSphere</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="style.css" rel="stylesheet" />
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
</head>
<body>
  <header class="topbar">
    <div class="brand">LearnSphere</div>
    <div class="top-actions">
      <button id="btn-logout" class="btn ghost">Logout</button>
      <button id="toggle-theme" class="btn ghost">Dark</button>
    </div>
  </header>

  <main class="container">
    <div class="row">
      <div class="col-left card sidebar">
        <div class="d-flex justify-content-between align-items-center">
            <h3 id="stu-name">Welcome</h3>
            <div class="position-relative">
              <button id="btn-notifications" class="btn ghost btn-sm">
                <i class="fas fa-bell"></i>
                <span class="notification-badge hidden" id="notification-count">0</span>
              </button>
            </div>
        </div>
        <nav class="nav-vert">
          <button class="nav-btn" data-screen="dashboard"><i class="fas fa-home"></i> Dashboard</button>
          <button class="nav-btn" data-screen="modules"><i class="fas fa-book-open"></i> Modules</button>
          <button class="nav-btn" data-screen="quiz"><i class="fas fa-pen-to-square"></i> Quiz</button>
          <button class="nav-btn" data-screen="final"><i class="fas fa-flag-checkered"></i> End Test</button>
          <button class="nav-btn" data-screen="summary"><i class="fas fa-chart-line"></i> Summary</button>
          <button class="nav-btn" data-screen="progress"><i class="fas fa-clock"></i> Progress</button>
          <button class="nav-btn" data-screen="notes"><i class="fas fa-sticky-note"></i> Notes</button>
          <button class="nav-btn" data-screen="study-plans"><i class="fas fa-calendar-alt"></i> Study Plans</button>
          <button class="nav-btn" data-screen="leaderboard"><i class="fas fa-trophy"></i> Leaderboard</button>
          <button class="nav-btn" data-screen="ai_tutor"><i class="fas fa-robot"></i> AI Tutor</button>
        </nav>
        <div id="gamification-sidebar" class="gamification-stats"></div>
        
        <div class="panel notifications-panel" id="notifications-panel" style="display: none;">
            <div class="d-flex justify-content-between align-items-center mb-3">
                <h6 class="mb-0">Notifications</h6>
                <button class="btn btn-sm ghost" id="btn-close-notifications">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div id="notifications-list" class="notifications-list"></div>
        </div>
      </div>

      <div class="col-main">
        <div id="screen-dashboard" class="panel">
          <div class="dashboard-header" id="dashboard-stats"></div>
          <canvas id="stu-chart" style="max-height:300px"></canvas>
          <div class="mt">
              <h3>Recommended Focus Areas</h3>
              <div id="recommendations" class="recommendations-grid mt"></div>
          </div>
        </div>

        <div id="screen-modules" class="panel hidden">
          <h3>Learning Modules</h3>
          <p class="small-muted">Click the bookmark icon to save your favorite topics for quick access.</p>
          <div id="modules-list"></div>
        </div>

        <div id="screen-quiz" class="panel hidden">
          <div class="quiz-header">
            <h3>ü§ñ AI-Generated Personalized Quiz</h3>
            <div class="quiz-meta">
              <span id="quiz-timer" class="timer-display">10:00</span>
            </div>
          </div>
          <p class="small-muted">Our AI has created this quiz based on your performance to target your weak areas.</p>
          <form id="quiz-form"></form>
          <div id="quiz-result" class="mt"></div>
        </div>

        <div id="screen-final" class="panel hidden">
          <h3>üë®‚Äçüè´ Teacher-Set Final Exam</h3>
          <div id="final-test-start-screen">
              <p class="small-muted">This is a comprehensive exam set by your instructor, covering multiple topics. You will have 20 minutes to complete it.</p>
              <button id="start-final-test-btn" class="btn primary large mt">Start Final Exam</button>
          </div>
          <div id="final-test-wrapper" class="hidden">
              <div class="quiz-header">
                  <span id="final-test-timer" class="timer-display">20:00</span>
              </div>
              <form id="final-form"></form>
          </div>
          <div id="final-result" class="mt"></div>
        </div>

        <div id="screen-summary" class="panel hidden">
          <h3>Performance Summary</h3>
          <div class="summary-header" id="summary-stats"></div>
          <canvas id="summary-chart" style="max-height:300px"></canvas>
          <h3 class="mt">AI-Generated Tips</h3>
          <div id="ai-tips" class="ai-tips-grid"></div>
        </div>
        
        <div id="screen-progress" class="panel hidden">
          <h3><i class="fas fa-clock"></i> Progress Tracker</h3>
          <p class="small-muted">Track your study time, achievements, and export your learning data.</p>
          <div id="progress-content"></div>
        </div>
        
        <div id="screen-notes" class="panel hidden">
          <h3><i class="fas fa-sticky-note"></i> My Notes</h3>
          <p class="small-muted">Keep track of important concepts and ideas as you learn.</p>
          <div id="notes-content"></div>
        </div>

        <div id="screen-study-plans" class="panel hidden">
            <h3><i class="fas fa-calendar-alt"></i> Interactive Study Calendar</h3>
            <p class="small-muted">Click on a date to add a study session. Scheduled events will appear below.</p>
            <div id="calendar-container" class="panel">
                <div id="calendar-header">
                    <button id="calendar-prev" class="btn ghost btn-sm">&lt;</button>
                    <h4 id="calendar-month-year"></h4>
                    <button id="calendar-next" class="btn ghost btn-sm">&gt;</button>
                </div>
                <div id="calendar-weekdays"></div>
                <div id="calendar-days"></div>
            </div>
            <div id="event-list-container" class="mt-4">
                <h5>Scheduled Sessions</h5>
                <div id="event-list">
                    <p class="small-muted">Select a day to see your study plan.</p>
                </div>
            </div>
        </div>
        
        <div id="screen-leaderboard" class="panel hidden">
          <h3>üèÜ Leaderboard</h3>
          <div id="leaderboard-list"></div>
        </div>

        <div id="screen-ai_tutor" class="panel hidden">
          <h3>ü§ñ AI Tutor</h3>
          <p class="small-muted">Ask me anything about your weak topics!</p>
          <div id="chat-container" class="chat-container"></div>
          <div class="chat-input-group mt">
            <input id="chat-input" class="input" placeholder="Type your question...">
            <button id="chat-send-btn" class="btn primary">Send</button>
          </div>
        </div>
      </div>
    </div>
  </main>

  <div class="modal fade" id="eventModal" tabindex="-1" aria-labelledby="eventModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="eventModalLabel">Add Study Session</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <form id="event-form">
            <input type="hidden" id="event-date">
            <div class="mb-3">
              <label for="event-title" class="form-label">Topic / Subject</label>
              <input type="text" class="input" id="event-title" required placeholder="e.g., Practice Algebra problems">
            </div>
            <div class="mb-3">
              <label for="event-time" class="form-label">Time</label>
              <input type="time" class="input" id="event-time" required>
            </div>
            <div class="form-check">
              <input class="form-check-input" type="checkbox" id="event-reminder">
              <label class="form-check-label" for="event-reminder">
                Set a reminder notification
              </label>
            </div>
          </form>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn ghost" data-bs-dismiss="modal">Cancel</button>
          <button type="button" class="btn primary" id="save-event-btn">Save Event</button>
        </div>
      </div>
    </div>
  </div>

  <div class="offline-indicator" id="offline-indicator" style="display: none;">
      <i class="fas fa-wifi"></i> You are currently offline
  </div>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
  <script src="student.js"></script>
</body>
</html>